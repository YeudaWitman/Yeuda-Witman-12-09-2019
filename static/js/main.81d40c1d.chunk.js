(window["webpackJsonpweather-app"]=window["webpackJsonpweather-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/Loading.84432cce.svg"},37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=(a(42),a(9)),i=a(12),s=a(11),u=a.n(s),m=a(2),d=function(e){return{type:"SUGGESTION",payload:e}},p=function(e){return{type:"CURRENT_CONDITION_SUCCESS",payload:e}},f=function(e){return{type:"CURRENT_CONDITION_ERROR",payload:e}},E=function(e){var t=e.details,a={key:t.Key,name:t.LocalizedName,country:t.Country.LocalizedName};return r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/weather/".concat(t.Key),onClick:function(){return e.resetInput(a)}},r.a.createElement("b",null,t.LocalizedName),", ",t.Country.LocalizedName))},y=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.search.suggestion})),a=function(t){e({type:"CURRENT_CITY",payload:t}),e(d([]))},n=null;return t&&(n=t.map((function(e,t){return r.a.createElement(E,{key:t,details:e,resetInput:a})}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group input-group-lg mt-5"},r.a.createElement("input",{type:"text",className:"form-control","aria-label":"search-bar input","aria-describedby":"search-bar",placeholder:"Search city...",onKeyUp:function(t){return function(t){var a=t.target.value;e({type:"SEARCH",payload:a}),a.length<=1?e(d([])):u.a.get("https://my-json-server.typicode.com/YeudaWitman/mockdata/Autocomplete").then((function(t){e(d(t.data))})).catch((function(t){e(function(e){return{type:"ERROR",payload:e}}(t))}))}(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"search-bar"},r.a.createElement("i",{className:"fas fa-search"})))),r.a.createElement("ul",{className:"list-group"},n))},b=function(e){var t=e.city,a=Object(m.b)(),n=Object(m.c)((function(e){return e.currentConditions}));if(r.a.useEffect((function(){a({type:"CURRENT_CONDITION_PENDING"}),u.a.get((t.key,"https://my-json-server.typicode.com/YeudaWitman/mockdata/CurrentConditions")).then((function(e){a(p(e))})).catch((function(e){a(f(e))}))}),[]),n.error)return r.a.createElement("div",{className:"col-sm mt-1"},r.a.createElement("div",{className:"card text-center border-danger"},r.a.createElement("div",{className:"card-header alert-danger"},r.a.createElement("h5",{className:"card-title"},n.error.message),r.a.createElement("i",{className:"fas fa-exclamation-triangle"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},t.country)),r.a.createElement("div",{className:"card-footer"})));if(n.data){var c=null;return n.data.data&&(console.log(n.data.data.Temperature),c=n.data.data.Temperature.Metric.Value),r.a.createElement(o.b,{to:"/weather/".concat(t.key)},r.a.createElement("div",{className:"col-sm mt-1"},r.a.createElement("div",{className:"card text-center border-info"},r.a.createElement("div",{className:"card-header alert-info"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("h6",{className:"card-title"},t.country)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},c," \xb0")),r.a.createElement("div",{className:"card-footer"}))))}},v=function(){var e=Object(m.c)((function(e){return e.favorites})).map((function(e,t){return r.a.createElement(b,{key:t,city:e})}));return r.a.createElement("div",{className:"row"},e)},N=function(e){var t=e.cityDetails,a=Object(m.b)(),n=Object(m.c)((function(e){return e.favorites.find((function(e){return e.key===t.key}))})),c=function(e){a({type:"ADD",payload:e})},l=function(e){a({type:"REMOVE",payload:e})},o=r.a.createElement("button",{key:"btn1",className:"btn btn-outline-success mr d-lg-none",onClick:function(){c(t)}},r.a.createElement("i",{className:"far fa-heart"})),i=r.a.createElement("button",{key:"btn2",className:"btn btn-outline-success mr d-lg-none",onClick:function(){l(t)}},r.a.createElement("i",{className:"fas fa-heart"})),s=r.a.createElement("button",{key:"btn3",className:"btn btn-outline-success mr w-25 d-none d-lg-block",onClick:function(){c(t)}},"Add to favorites"),u=r.a.createElement("button",{key:"btn4",className:"btn btn-outline-success mr w-25 d-none d-lg-block",onClick:function(){l(t)}},"Remove from favorites");return n?[i,u]:[o,s]},g=a(34),O=a.n(g),h=function(){return r.a.createElement("div",{className:"alert alert-info text-center w-100",role:"alert"},r.a.createElement("img",{src:O.a,alt:"Loading..."}),r.a.createElement("h5",{className:"text-center mt-3"},"Loading data..."))},w=a(35),j=function(e){var t=e.details,a=w.unix(t.EpochDate);return r.a.createElement("div",{className:"col-sm mt-1"},r.a.createElement("div",{className:"card text-center border-info"},r.a.createElement("div",{className:"card-header alert-info"},r.a.createElement("h5",{className:"card-title"},a.format("dddd")),r.a.createElement("p",{className:"card-title"},a.format("MMM Do YY"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},t.Day.IconPhrase," "),r.a.createElement("p",{className:"card-text"},t.Temperature.Minimum.Value,"\xb0 - ",t.Temperature.Maximum.Value,"\xb0"))))},C=function(e){return r.a.createElement("div",{className:"alert alert-danger text-center w-100 mt-3",role:"alert"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),r.a.createElement("h5",{className:"text-center mt-3"},e.error.message))},S=function(e){e.cityKey;var t=Object(m.b)(),a=Object(m.c)((function(e){return e.fiveDays}));if(r.a.useEffect((function(){t({type:"FIVE_DAYS_PENDING"}),u.a.get("https://my-json-server.typicode.com/YeudaWitman/mockdata/DailyForecasts").then((function(e){t({type:"FIVE_DAYS_SUCCESS",payload:e.data.DailyForecasts})})).catch((function(e){t({type:"FIVE_DAYS_ERROR",payload:e})}))}),[]),a.error)return r.a.createElement(C,{error:a.error});if(a.pending)return r.a.createElement(h,null);if(a.data){var n=a.data.map((function(e,t){return r.a.createElement(j,{key:t,details:e})}));return r.a.createElement("div",null,r.a.createElement("h5",{className:"text-center"},"Five days forecast"),r.a.createElement("div",{className:"row"},n))}},D=function(e){var t=e.match,a=t.params.cityKey?t.params.cityKey:"215854",n=Object(m.b)(),c=Object(m.c)((function(e){return e.favorites.find((function(e){return e.key===a}))})),l=Object(m.c)((function(e){return e.currentConditions})),o=Object(m.c)((function(e){return e.currentConditions.currentCity}));if(r.a.useEffect((function(){n({type:"CURRENT_CONDITION_PENDING"}),u.a.get("https://my-json-server.typicode.com/YeudaWitman/mockdata/CurrentConditions").then((function(e){n(p(e))})).catch((function(e){n(f(e))}))}),[]),l.error)return r.a.createElement(C,{error:l.error});if(l.pending)return r.a.createElement(h,null);if(l.data){var i=null,s=null,d=null;return l.data.data&&(s=(i=l.data.data).WeatherText,d=i.Temperature.Metric.Value),r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-info mt-4 text-center",role:"alert"},r.a.createElement("nav",{className:"alert navbar navbar-light bg-light"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},r.a.createElement("i",{className:"fas fa-map-marker-alt"}),r.a.createElement("b",null," ",o.name),", ",o.country),r.a.createElement("span",{className:"navbar-brand mb-0 h1 text-info"},r.a.createElement("i",{className:c?"fas fa-heart":"far fa-heart"})),r.a.createElement(N,{cityDetails:o})),r.a.createElement("h1",null,r.a.createElement("i",{className:"fas fa-thermometer-half"})," ",d,"\xb0"),r.a.createElement("h3",null,s)),r.a.createElement(S,{cityKey:a}))}},R=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not found!!"))},k=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:D}),r.a.createElement(i.a,{exact:!0,path:"/weather",component:D}),r.a.createElement(i.a,{exact:!0,path:"/weather/:cityKey",component:D}),r.a.createElement(i.a,{exact:!0,path:"/favorites",component:v}),r.a.createElement(i.a,{component:R})))},I=function(e){var t=e.details;return r.a.createElement("div",null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{className:"nav-link",to:"/".concat(t.link)},r.a.createElement("i",{className:t.icon})," ",t.title)))},_=function(){var e=[{title:"Current Weather",link:"weather",icon:"fas fa-cloud-sun-rain"},{title:"Favorites locations",link:"favorites",icon:"fas fa-heart"}].map((function(e,t){return r.a.createElement(I,{key:t,details:e})}));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("span",{className:"navbar-brand"},"Weather App"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},e))))},T=function(){return r.a.createElement(o.a,{basename:"/Yeuda-Witman-12-09-2019"},r.a.createElement(_,null),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(13),x=a(14);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A={query:"",suggestion:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Y({},e,{query:t.payload});case"SUGGESTION":return Y({},e,{suggestion:t.payload});case"ERROR":default:return e}},F=a(36),W="favorites",G=JSON.parse(localStorage.getItem(W))?JSON.parse(localStorage.getItem(W)):[],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":if(console.log(t),e.includes(t.payload))return e;var a=JSON.parse(localStorage.getItem(W));return a||(a=[]),a.push(t.payload),localStorage.setItem(W,JSON.stringify(a)),[].concat(Object(F.a)(e),[t.payload]);case"REMOVE":var n=e,r=n.indexOf(t.payload);return n.splice(r,1),localStorage.setItem(W,JSON.stringify(n)),n;default:return e}};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={currentCity:{key:"215854",name:"Tel Aviv",country:"Israel"},pending:!1,data:[],error:null},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_CITY":return K({},e,{currentCity:t.payload});case"CURRENT_CONDITION_PENDING":return K({},e,{pending:!0});case"CURRENT_CONDITION_SUCCESS":return K({},e,{pending:!1,data:t.payload});case"CURRENT_CONDITION_ERROR":return K({},e,{pending:!1,error:t.payload});default:return e}};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={pending:!1,data:[],error:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIVE_DAYS_PENDING":return q({},e,{pending:!0});case"FIVE_DAYS_SUCCESS":return q({},e,{pending:!1,data:t.payload});case"FIVE_DAYS_ERROR":return q({},e,{pending:!1,error:t.payload});default:return e}},$=Object(P.b)({search:V,favorites:L,currentConditions:z,fiveDays:H}),Q=Object(P.c)($,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(m.a,{store:Q},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.81d40c1d.chunk.js.map